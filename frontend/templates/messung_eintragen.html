<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Messung eintragen</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../static/style.css">
</head>
<body class="messung_body">
  <div class="messung_container">
    <h1 class="messung_h1">ðŸ’¥ Messung eintragen</h1>
    <form method="post" action="/messung">
      <label class="messung_label" for="kunde_id">Kunden auswÃ¤hlen</label>
      <select name="kunde_id" id="kunde_id" required>
        <option value="">Kunde auswÃ¤hlen...</option>
      </select>

      <label class="messung_label" for="max_schlagkraft">Max. Schlagkraft (kg)</label>
      <input class="messung_input" type="number" name="max_schlagkraft" step="0.1" placeholder="z.â€¯B. 520.5" required>

      <label class="messung_label" for="avg_schlagkraft">Durchschnittliche Schlagkraft (kg)</label>
      <input class="messung_input" type="number" name="avg_schlagkraft" step="0.1" placeholder="z.â€¯B. 480.3" required>

      <button class="messung_button" type="submit">ðŸ’¾ Messung speichern</button>
    </form>
  </div>

  <script>
    // Lade Kundenliste in Dropdown
    fetch("/kunden_json")
      .then(response => response.json())
      .then(kunden => {
        const select = document.getElementById("kunde_id");
        kunden.forEach(k => {
          const option = document.createElement("option");
          option.value = k.id;
          option.textContent = `#${k.id} - ${k.vorname} ${k.name} (${k.plz_ort})`;
          select.appendChild(option);
        });
      });
  </script>
</body>
</html>
